<!DOCTYPE html>
<head>
  <title>Immigrants and employment in the United States</title>

</head>


<meta charset="utf-8">
<style>

body{
  width: 900px;
  margin: 0px auto;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

#container, #container2{
  position: relative;
  width: 100%;
  overflow: auto;
}

#sections, #sections2{
  width: 340px;
  float: left;
}

#sections > div, #sections2 > div{
  background: white;
  opacity: .2;
  margin-bottom:120px;
}

#sections > div.graph-scroll-active, #sections2 > div.graph-scroll-active{
  opacity: 1;
}


#graph, #graph2{
  float: left;
  margin-left: 40px;
}

#graph.graph-scroll-fixed, #graph2.graph-scroll-fixed{
  position: fixed;
  top: 0px;
  margin-left: 380px;
}

#graph.graph-scroll-below, #graph2.graph-scroll-below {
  position: absolute;
  bottom: 0px;
  margin-left: 380px;
}

h1{
  margin: 50px 50px 0;
  font-size: 50px;
}

#title {

}

#subtitle {
  color: #565656;
  text-align: center;
  font-size: 25px;
}


#month {
  margin-right: auto


}


h1, h3{
  text-align: center;
}

#author {
  color: darkgray;
  height: 1200px;
  text-align-last: 
}

.mono{
  font-family: monospace;
}


svg{
  background-color: #eee;
  margin-top: 20px;
}

</style>
<body>



<script type="text/javascript">
function sample1enlarge() {
 var $elementReference = document.getElementById( "sample1img" );
 $elementReference.style.height = "80px";
 $elementReference.style.width = "80px";
}
function sample1reduce() {
 var $elementReference = document.getElementById( "sample1img" );
 $elementReference.style.height = "40px";
 $elementReference.style.width = "40px";
}
</script>

<img id="sample1img" onmouseover="sample1enlarge();" onmouseout="sample1reduce();" img src="african immigrant.png" />


<style type="text/css"></style>

<h2>Mayu Inoue's first stab for Data visualization with javascript!</h2>

<h1 id="title">Immigrants and employment in the United States</h1>
<h2 id="subtitle">Unemployment rate and population growth</h2>
<div id='container'>
  <div id='sections'>





    <div>
      <h3>Working population projection</h3>
      <p>Immigration has long supported the growth and dynamism of the U.S. economy. Immigrants and refugees are entrepreneurs, job creators, taxpayers, and consumers. They add trillions of dollars to the U.S. gross domestic product, or GDP, and their economic importance will only increase in the coming decades as America’s largest generation—the baby boomers—retires en masse, spurring labor demand and placing an unprecedented burden on the social safety net. Still, additional benefits to the U.S. economy and society more broadly could be obtained through legislative reforms designed to modernize the U.S. immigration system and provide unauthorized immigrants in the country today with a path to citizenship.</p>



      <p>For most of the past half-century, adults in the U.S. Baby Boom generation – those born after World War II and before 1965 – have been the main driver of the nation’s expanding workforce. But as this large generation heads into retirement, the increase in the potential labor force will slow markedly, and immigrants will play the primary role in the future growth of the working-age population (though they will remain a minority of it).

      <p>The number of adults in the prime working ages of 25 to 64 – 173.2 million in 2015 – will rise to 183.2 million in 2035, according to Pew Research Center projections. That total growth of 10 million over two decades will be lower than the total in any single decade since the Baby Boomers began pouring into the workforce in the 1960s. The growth rate of working-age adults will also be markedly reduced. (you can see the visual on the right side)</p>




<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
  
 <canvas id="month"></canvas>

<script>
var ctx1 = document.getElementById('month').getContext('2d');
var tweetchart = new Chart(ctx1, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {

        labels: ["1965", "1975", "1985", "1995", "2005","2015", "2035"],
        datasets: [
          {
            label: "Projection without immigrants",
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            data: [86, 97, 118, 138, 160, 173, 166],
            borderWidth: .5,
            borderColor: "red"
        },
        
         {
            label: "Projection with future immigrants",
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            data: [86, 97, 118, 138, 160, 173, 183],
            borderWidth: 1.0,
            borderWidth: .5,
            borderColor: "darkblue"

        },

      ]
    },

});


</script>





<style>
.floating-box {
    float: left;
    width: 150px;
    height: 75px;
    margin: 10px;
    border: 3px solid #73AD21; 
}

.after-box {
    clear: left;
}
</style>




    </div>

    <div>
      <h3>Evolution of the unemployment rate</h3>
      <p>Here is the visual showing the evolution of the unemployment rate in the United States on the right side. The unemployment rate fluctuated wildly, from a low of 5.8 percent in 2008 to a peak of 9.6 percent in 2010, after the U.S. housing bubble burst and Wall Street saw collapses unlike those seen since the Great Depression in the 1920s and 1930s.</p>



<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<canvas id="myChart1" width="400" height="400"></canvas>
<script>
var ctx = document.getElementById("myChart1").getContext('2d');
var myChart1 = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ["1992", "1993", "1994", "1995", "1996", "1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016"],
        datasets: [{
            label: 'Evolution of unemployment rate in the United States (%)',
            data: [7.5, 6.9, 6.1, 5.6, 5.4, 4.9,4.5,4.2,4.0,4.7, 5.8, 6.0,5.5,5.1,4.6,4.6,5.8,9.3,9.6, 8.9,8.1,7.4,6.2,5.3,4.9,4.4],
            backgroundColor: [
              
                'rgba(255, 206, 86, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>



      
    </div>



    <div>
      <h3>Immigrants Population growth</h3>
      <p>Immigrants and their descendants will drive U.S. population growth over the next half century, transforming the country into one where no racial or ethnic group is a majority.</p>

        <p>From 2008 to 2009, the number of the immigrant decreased and at that time the unemployment rate increased. After 2010, the number of the immigrants got stable at the high level. And then, the employment rate incrementally got decreased. </p>


        <p>So, the increase of the immigrants population might be one of the causes of this improvement.</p> 
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<canvas id="myChart" width="900" height="700"></canvas>
<script>
var ctx = document.getElementById("myChart").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ["1992", "1993", "1994", "1995", "1996", "1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015"],
        datasets: [{
            label: '# of Immigrants by year',

            data: [973445, 903916, 803993, 720177, 915560, 797847,653206, 644787, 841002,1058902,1059356,703542,957883,1122257,1266129,1052415,1107126,1130818,1042625,1062040,1031631,990553,1016518,1051031],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',


            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'

            ],
            borderWidth: 0.5
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>





     
    </div>

    <div>
      <h3>Analysis from these visual graph data</h3>
      <p>By overlapping these data, we can see unless having the immigrants population in the United States, the United States will not have enough working population after 2015. The projection shows that by the 2035, which is just less than 20 years ahead, the US will see the 7 million working population will be decreased. </p>


      <p>The evolution of the unemployment rate also shows one aspect to explain this issue. From 2009, the number of the population got stable at the high level. After this period, the unemployment rate incrementally got decreased.
      The more the immigrant population grow, the more the unemployment rate gets lower. Actually, I thought the opposite but this assignment proved me that the population growth brought one of the important aspect to the United States economy.</p>

  

    </div>
    

    
      </div>
      <div style="opacity:1;">
      <link rel="stylesheet" href="footer.css">
      <h4 id='author'></h4>

      </div>

  </div>


</body>


<script src="d3.v3.js"></script>
<script src="graph-scroll.js"></script>

<script type="text/javascript">
plot.multi.dens <- function(s)
{
    junk.x = NULL
    junk.y = NULL
    for(i in 1:length(s)) {
        junk.x = c(junk.x, density(s[[i]])$x)
        junk.y = c(junk.y, density(s[[i]])$y)
    }
    xr <- range(junk.x)
    yr <- range(junk.y)
    plot(density(s[[1]]), xlim = xr, ylim = yr, main = "")
    for(i in 1:length(s)) {
        lines(density(s[[i]]), xlim = xr, ylim = yr, col = i)
    }
}

# the input of the following function MUST be a numeric list
plot.multi.dens( list(rating, rating2))

</script>





<script>

var width = 490,
    height = 420;

var xScale = d3.scale.linear().domain([0,10]).range([40,560]);
var yScale = d3.scale.linear().domain([0,10]).range([40,860]);

var svg = d3.select('#graph')
    .append('svg')
    .attr({width: width, height: height})

    svg.selectAll("circle")
      .data(d3.range(50).map(function(d,i) {return {x: i%8, y: Math.floor(i/10)}}))
      .enter()
      .append("circle")
      .attr("cx", function(d) {return xScale(d.x)})
      .attr("cy", function(d) {return yScale(d.y)})
      .attr("r", 15)
      .style("fill", "lightgray")
      .style("stroke", "black")
      .style("stroke-width", "1px");

    svg.selectAll("rect")
      .data([0,1])
      .enter()
      .append("rect")
      .attr("class", "enclosure")
      .attr("height", 370)
      .attr("width", function(d,i) {return i == 0 ? 190 : 250})
      .attr("x", function(d,i) {return i == 0 ? 20 : 220})
      .attr("y", 20)
      .attr("ry", 10)
      .style("fill", "none")
      .style("stroke", "black")
      .style("stroke-width", "3px")
      .style("stroke-opacity", 0);


var colors = ['orange', 'purple', 'steelblue', 'black']
var gs = graphScroll()
    .container(d3.select('#container'))
    .graph(d3.selectAll('#graph'))
    .sections(d3.selectAll('#sections > div'))
    .on('active', function(i){
      switch(i) {
        case 0:
        base();
        break;
        case 1:
        similarity();
        break;
        case 2:
        proximity();
        break;
        case 3:
        enclosure();
        break;
      }

    })


d3.select('#source')
    .style({'margin-bottom': window.innerHeight - 500 + 'px', padding: '100px'})

function base() {
        d3.selectAll("circle")
        .transition()
        .duration(500)
        .attr("cx", function(d) {return xScale(d.x)})
        .attr("cy", function(d) {return yScale(d.y)})
        .style("fill", "lightgray")
}

function similarity() {
        d3.selectAll("circle")
        .transition()
        .duration(500)
        .attr("cx", function(d) {return xScale(d.x)})
        .attr("cy", function(d) {return yScale(d.y)})
        .style("fill", function(d) {return d.x%2 == 1 ? "#E64949" : "lightgray"})
}

function proximity() {
        d3.selectAll("circle")
        .transition()
        .duration(500)
        .attr("cx", function(d) {return d.x < 2 ? xScale(d.x) : xScale(d.x) + 45})
        .attr("cy", function(d) {return yScale(d.y)})
        .style("fill", function(d) {return d.x%2 == 1 ? "#E64949" : "lightgray"})

        d3.selectAll("rect.enclosure")
        .transition()
        .duration(500)
        .style("stroke-opacity", 0);

}

function enclosure() {
        d3.selectAll("circle")
        .transition()
        .duration(500)
        .attr("cx", function(d) {return d.x < 2 ? xScale(d.x) : xScale(d.x) + 45})
        .attr("cy", function(d) {return yScale(d.y)})
        .style("fill", function(d) {return d.x%2 == 1 ? "#E64949" : "lightgray"});

        d3.selectAll("rect.enclosure")
        .transition()
        .duration(500)
        .style("stroke-opacity", 1);

}


</script>


<script src="graph-scroll.js"></script>
<script src="densityplot.js"></script>
<script src="d3.v3.js"></script>


